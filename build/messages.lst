ARM GAS  /tmp/ccCH400s.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"messages.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.fastSqrt32,"ax",%progbits
  16              		.align	1
  17              		.arch armv7-m
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	fastSqrt32:
  24              	.LVL0:
  25              	.LFB70:
  26              		.file 1 "User/messages.c"
   1:User/messages.c **** /*
   2:User/messages.c ****  * messages.c
   3:User/messages.c ****  *
   4:User/messages.c ****  *  Created on: Mar 6, 2020
   5:User/messages.c ****  *      Author: Xiaojiao Chen
   6:User/messages.c ****  *       Email: yii402072495@gmail.com
   7:User/messages.c ****  */
   8:User/messages.c **** #include "messages.h"
   9:User/messages.c **** #include "stdlib.h"
  10:User/messages.c **** 
  11:User/messages.c **** #if COMPACT_VERSION_PRESSURE_HPA==1
  12:User/messages.c **** 	#define COMPACT_SHIFT_BIT 2
  13:User/messages.c **** #else
  14:User/messages.c **** 	#define COMPACT_SHIFT_BIT 1
  15:User/messages.c **** #endif
  16:User/messages.c **** 
  17:User/messages.c **** static unsigned int fastSqrt32(unsigned long n);
  18:User/messages.c **** 
  19:User/messages.c **** void packQuaternion(QUATERNION *qOri,QUATERNIONCOMPACT *qCom){
  20:User/messages.c **** 	uint16_t maxLoc=0;
  21:User/messages.c **** 	for(int i=0;i<4;i++){
  22:User/messages.c **** 		if(i>0 && (abs(qOri->imuData[i])>abs(qOri->imuData[maxLoc])))
  23:User/messages.c **** 			maxLoc=i;
  24:User/messages.c **** 	}
  25:User/messages.c **** 	if(maxLoc==0)
  26:User/messages.c **** 	{
  27:User/messages.c **** 		qCom->imuData0=((uint16_t)qOri->imuData[1])>>COMPACT_SHIFT_BIT;
  28:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
  29:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
  30:User/messages.c **** 	}
  31:User/messages.c **** 	else if (maxLoc==1){
  32:User/messages.c **** 		qCom->imuData0=((uint16_t)qOri->imuData[0])>>COMPACT_SHIFT_BIT;
ARM GAS  /tmp/ccCH400s.s 			page 2


  33:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
  34:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
  35:User/messages.c **** 	}
  36:User/messages.c **** 	else if(maxLoc==2){
  37:User/messages.c **** 		qCom->imuData0=((uint16_t)qOri->imuData[0])>>COMPACT_SHIFT_BIT;
  38:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[1])>>COMPACT_SHIFT_BIT;
  39:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
  40:User/messages.c **** 	}
  41:User/messages.c **** 	else{
  42:User/messages.c **** 		qCom->imuData0=((uint16_t)qOri->imuData[0])>>COMPACT_SHIFT_BIT;
  43:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[1])>>COMPACT_SHIFT_BIT;
  44:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
  45:User/messages.c **** 	}
  46:User/messages.c **** 	qCom->maxLocHigh=maxLoc>>1;
  47:User/messages.c **** 	qCom->maxLocLow=maxLoc;
  48:User/messages.c **** 	qCom->maxSign=((uint16_t)(((uint16_t)qOri->imuData[maxLoc])&0x8000))>>15;
  49:User/messages.c **** }
  50:User/messages.c **** 
  51:User/messages.c **** void unpackQuaternion(QUATERNIONCOMPACT *qCom,QUATERNION *qOri){
  52:User/messages.c **** 	int32_t lastNumOri=0;
  53:User/messages.c **** 	uint16_t maxLoc=(uint16_t)(qCom->maxLocHigh<<1 | qCom->maxLocLow);
  54:User/messages.c **** 	int16_t qRes0=(int16_t)(((uint16_t)qCom->imuData0)<<COMPACT_SHIFT_BIT);
  55:User/messages.c **** 	int16_t qRes1=(int16_t)(((uint16_t)qCom->imuData1)<<COMPACT_SHIFT_BIT);
  56:User/messages.c **** 	int16_t qRes2=(int16_t)(((uint16_t)qCom->imuData2)<<COMPACT_SHIFT_BIT);
  57:User/messages.c **** 
  58:User/messages.c **** 	uint32_t sum=qRes0*qRes0+qRes1*qRes1+qRes2*qRes2;
  59:User/messages.c **** 	const int maxNum=(uint32_t)(1<<30);
  60:User/messages.c **** 	lastNumOri=(sum>=maxNum?0:fastSqrt32((uint32_t)(maxNum-sum)));
  61:User/messages.c **** 	int16_t lastNum=qCom->maxSign?-lastNumOri:lastNumOri;
  62:User/messages.c **** 	if(maxLoc==0)
  63:User/messages.c **** 	{
  64:User/messages.c **** 		qOri->imuData[1]=qRes0;
  65:User/messages.c **** 		qOri->imuData[2]=qRes1;
  66:User/messages.c **** 		qOri->imuData[3]=qRes2;
  67:User/messages.c **** 		qOri->imuData[0]=lastNum;
  68:User/messages.c **** 	}
  69:User/messages.c **** 	else if (maxLoc==1){
  70:User/messages.c **** 		qOri->imuData[0]=qRes0;
  71:User/messages.c **** 		qOri->imuData[2]=qRes1;
  72:User/messages.c **** 		qOri->imuData[3]=qRes2;
  73:User/messages.c **** 		qOri->imuData[1]=lastNum;
  74:User/messages.c **** 	}
  75:User/messages.c **** 	else if(maxLoc==2){
  76:User/messages.c **** 		qOri->imuData[0]=qRes0;
  77:User/messages.c **** 		qOri->imuData[1]=qRes1;
  78:User/messages.c **** 		qOri->imuData[3]=qRes2;
  79:User/messages.c **** 		qOri->imuData[2]=lastNum;
  80:User/messages.c **** 	}
  81:User/messages.c **** 	else{
  82:User/messages.c **** 		qOri->imuData[0]=qRes0;
  83:User/messages.c **** 		qOri->imuData[1]=qRes1;
  84:User/messages.c **** 		qOri->imuData[2]=qRes2;
  85:User/messages.c **** 		qOri->imuData[3]=lastNum;
  86:User/messages.c **** 	}
  87:User/messages.c **** }
  88:User/messages.c **** 
  89:User/messages.c **** uint16_t unpackPressure(SENSORDATACOMPACT *scom){
ARM GAS  /tmp/ccCH400s.s 			page 3


  90:User/messages.c **** #if COMPACT_VERSION_PRESSURE_HPA==1
  91:User/messages.c **** 	return scom->pressure;
  92:User/messages.c **** #else
  93:User/messages.c **** 	return scom->pressure*10;
  94:User/messages.c **** #endif
  95:User/messages.c **** }
  96:User/messages.c **** uint16_t unpackPosition(SENSORDATACOMPACT *scom){
  97:User/messages.c **** 	uint16_t pos=0;
  98:User/messages.c **** #if COMPACT_VERSION_PRESSURE_HPA==1
  99:User/messages.c **** 	pos= ((uint16_t)(scom->distance<<3)
 100:User/messages.c **** 				+(uint16_t)(scom->quaternionCom.distanceBit2<<2)
 101:User/messages.c **** 				+(uint16_t)(scom->quaternionCom.distanceBit1<<1)
 102:User/messages.c **** 				+(uint16_t)(scom->quaternionCom.distanceBit0));
 103:User/messages.c **** #else
 104:User/messages.c **** 	pos=scom->distance;
 105:User/messages.c **** #endif
 106:User/messages.c **** 	return pos;
 107:User/messages.c **** }
 108:User/messages.c **** 
 109:User/messages.c **** 
 110:User/messages.c **** void decodeSensorData(SENSORDATACOMPACT *scom, SENSORDATA *s) {
 111:User/messages.c **** 
 112:User/messages.c **** 	s->pressure=(int16_t)(unpackPressure(scom)); //gauge hpa
 113:User/messages.c **** 	s->distance= (int16_t)(unpackPosition(scom));
 114:User/messages.c **** 	unpackQuaternion(&(scom->quaternionCom),&(s->quaternion));
 115:User/messages.c **** }
 116:User/messages.c **** 
 117:User/messages.c **** static unsigned int fastSqrt32(unsigned long n)
 118:User/messages.c **** {
  27              		.loc 1 118 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              		.loc 1 118 1 is_stmt 0 view .LVU1
  33 0000 0146     		mov	r1, r0
 119:User/messages.c ****     unsigned int c = 0x8000;
  34              		.loc 1 119 5 is_stmt 1 view .LVU2
  35              	.LVL1:
 120:User/messages.c ****     unsigned int g = 0x8000;
  36              		.loc 1 120 5 view .LVU3
  37              		.loc 1 120 18 is_stmt 0 view .LVU4
  38 0002 4FF40040 		mov	r0, #32768
  39              	.LVL2:
 119:User/messages.c ****     unsigned int c = 0x8000;
  40              		.loc 1 119 18 view .LVU5
  41 0006 0346     		mov	r3, r0
  42 0008 03E0     		b	.L4
  43              	.LVL3:
  44              	.L6:
 121:User/messages.c **** 
 122:User/messages.c ****     for(;;) {
 123:User/messages.c ****         if(g*g > n)
 124:User/messages.c ****             g ^= c;
  45              		.loc 1 124 13 is_stmt 1 view .LVU6
  46              		.loc 1 124 15 is_stmt 0 view .LVU7
  47 000a 5840     		eors	r0, r0, r3
ARM GAS  /tmp/ccCH400s.s 			page 4


  48              	.LVL4:
  49              	.L2:
 125:User/messages.c ****         c >>= 1;
  50              		.loc 1 125 9 is_stmt 1 view .LVU8
 126:User/messages.c ****         if(c == 0)
  51              		.loc 1 126 9 view .LVU9
  52              		.loc 1 126 11 is_stmt 0 view .LVU10
  53 000c 5B08     		lsrs	r3, r3, #1
  54              	.LVL5:
  55              		.loc 1 126 11 view .LVU11
  56 000e 05D0     		beq	.L5
 127:User/messages.c ****             return g;
 128:User/messages.c ****         g |= c;
  57              		.loc 1 128 9 is_stmt 1 view .LVU12
  58              		.loc 1 128 11 is_stmt 0 view .LVU13
  59 0010 1843     		orrs	r0, r0, r3
  60              	.LVL6:
 122:User/messages.c ****         if(g*g > n)
  61              		.loc 1 122 10 is_stmt 1 view .LVU14
  62              	.L4:
 122:User/messages.c ****         if(g*g > n)
  63              		.loc 1 122 5 view .LVU15
 123:User/messages.c ****             g ^= c;
  64              		.loc 1 123 9 view .LVU16
 123:User/messages.c ****             g ^= c;
  65              		.loc 1 123 13 is_stmt 0 view .LVU17
  66 0012 00FB00F2 		mul	r2, r0, r0
 123:User/messages.c ****             g ^= c;
  67              		.loc 1 123 11 view .LVU18
  68 0016 8A42     		cmp	r2, r1
  69 0018 F8D9     		bls	.L2
  70 001a F6E7     		b	.L6
  71              	.L5:
 129:User/messages.c ****     }
 130:User/messages.c **** }
  72              		.loc 1 130 1 view .LVU19
  73 001c 7047     		bx	lr
  74              		.cfi_endproc
  75              	.LFE70:
  77              		.section	.text.packQuaternion,"ax",%progbits
  78              		.align	1
  79              		.global	packQuaternion
  80              		.syntax unified
  81              		.thumb
  82              		.thumb_func
  83              		.fpu softvfp
  85              	packQuaternion:
  86              	.LVL7:
  87              	.LFB65:
  19:User/messages.c **** 	uint16_t maxLoc=0;
  88              		.loc 1 19 62 is_stmt 1 view -0
  89              		.cfi_startproc
  90              		@ args = 0, pretend = 0, frame = 0
  91              		@ frame_needed = 0, uses_anonymous_args = 0
  92              		@ link register save eliminated.
  19:User/messages.c **** 	uint16_t maxLoc=0;
  93              		.loc 1 19 62 is_stmt 0 view .LVU21
ARM GAS  /tmp/ccCH400s.s 			page 5


  94 0000 10B4     		push	{r4}
  95              	.LCFI0:
  96              		.cfi_def_cfa_offset 4
  97              		.cfi_offset 4, -4
  20:User/messages.c **** 	for(int i=0;i<4;i++){
  98              		.loc 1 20 2 is_stmt 1 view .LVU22
  99              	.LVL8:
  21:User/messages.c **** 		if(i>0 && (abs(qOri->imuData[i])>abs(qOri->imuData[maxLoc])))
 100              		.loc 1 21 2 view .LVU23
 101              	.LBB2:
  21:User/messages.c **** 		if(i>0 && (abs(qOri->imuData[i])>abs(qOri->imuData[maxLoc])))
 102              		.loc 1 21 6 view .LVU24
  21:User/messages.c **** 		if(i>0 && (abs(qOri->imuData[i])>abs(qOri->imuData[maxLoc])))
 103              		.loc 1 21 10 is_stmt 0 view .LVU25
 104 0002 0023     		movs	r3, #0
 105              	.LBE2:
  20:User/messages.c **** 	for(int i=0;i<4;i++){
 106              		.loc 1 20 11 view .LVU26
 107 0004 1C46     		mov	r4, r3
 108              	.LBB3:
  21:User/messages.c **** 		if(i>0 && (abs(qOri->imuData[i])>abs(qOri->imuData[maxLoc])))
 109              		.loc 1 21 2 view .LVU27
 110 0006 00E0     		b	.L8
 111              	.LVL9:
 112              	.L9:
  21:User/messages.c **** 		if(i>0 && (abs(qOri->imuData[i])>abs(qOri->imuData[maxLoc])))
 113              		.loc 1 21 18 is_stmt 1 discriminator 2 view .LVU28
  21:User/messages.c **** 		if(i>0 && (abs(qOri->imuData[i])>abs(qOri->imuData[maxLoc])))
 114              		.loc 1 21 19 is_stmt 0 discriminator 2 view .LVU29
 115 0008 0133     		adds	r3, r3, #1
 116              	.LVL10:
 117              	.L8:
  21:User/messages.c **** 		if(i>0 && (abs(qOri->imuData[i])>abs(qOri->imuData[maxLoc])))
 118              		.loc 1 21 14 is_stmt 1 discriminator 1 view .LVU30
  21:User/messages.c **** 		if(i>0 && (abs(qOri->imuData[i])>abs(qOri->imuData[maxLoc])))
 119              		.loc 1 21 2 is_stmt 0 discriminator 1 view .LVU31
 120 000a 032B     		cmp	r3, #3
 121 000c 14DC     		bgt	.L16
  22:User/messages.c **** 			maxLoc=i;
 122              		.loc 1 22 3 is_stmt 1 view .LVU32
  22:User/messages.c **** 			maxLoc=i;
 123              		.loc 1 22 5 is_stmt 0 view .LVU33
 124 000e 002B     		cmp	r3, #0
 125 0010 FADD     		ble	.L9
  22:User/messages.c **** 			maxLoc=i;
 126              		.loc 1 22 31 discriminator 1 view .LVU34
 127 0012 30F913C0 		ldrsh	ip, [r0, r3, lsl #1]
  22:User/messages.c **** 			maxLoc=i;
 128              		.loc 1 22 14 discriminator 1 view .LVU35
 129 0016 BCF1000F 		cmp	ip, #0
 130 001a B8BF     		it	lt
 131 001c CCF1000C 		rsblt	ip, ip, #0
 132 0020 1FFA8CFC 		uxth	ip, ip
  22:User/messages.c **** 			maxLoc=i;
 133              		.loc 1 22 53 discriminator 1 view .LVU36
 134 0024 30F91420 		ldrsh	r2, [r0, r4, lsl #1]
  22:User/messages.c **** 			maxLoc=i;
ARM GAS  /tmp/ccCH400s.s 			page 6


 135              		.loc 1 22 36 discriminator 1 view .LVU37
 136 0028 002A     		cmp	r2, #0
 137 002a B8BF     		it	lt
 138 002c 5242     		rsblt	r2, r2, #0
 139 002e 92B2     		uxth	r2, r2
  22:User/messages.c **** 			maxLoc=i;
 140              		.loc 1 22 10 discriminator 1 view .LVU38
 141 0030 9445     		cmp	ip, r2
 142 0032 E9D9     		bls	.L9
  23:User/messages.c **** 	}
 143              		.loc 1 23 4 is_stmt 1 view .LVU39
  23:User/messages.c **** 	}
 144              		.loc 1 23 10 is_stmt 0 view .LVU40
 145 0034 9CB2     		uxth	r4, r3
 146              	.LVL11:
  23:User/messages.c **** 	}
 147              		.loc 1 23 10 view .LVU41
 148 0036 E7E7     		b	.L9
 149              	.L16:
  23:User/messages.c **** 	}
 150              		.loc 1 23 10 view .LVU42
 151              	.LBE3:
  25:User/messages.c **** 	{
 152              		.loc 1 25 2 is_stmt 1 view .LVU43
  25:User/messages.c **** 	{
 153              		.loc 1 25 4 is_stmt 0 view .LVU44
 154 0038 54BB     		cbnz	r4, .L11
  27:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
 155              		.loc 1 27 3 is_stmt 1 view .LVU45
  27:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
 156              		.loc 1 27 42 is_stmt 0 view .LVU46
 157 003a B0F90230 		ldrsh	r3, [r0, #2]
 158              	.LVL12:
  27:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
 159              		.loc 1 27 46 view .LVU47
 160 003e C3F38D03 		ubfx	r3, r3, #2, #14
  27:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
 161              		.loc 1 27 17 view .LVU48
 162 0042 0A88     		ldrh	r2, [r1]
 163 0044 63F30D02 		bfi	r2, r3, #0, #14
 164 0048 0A80     		strh	r2, [r1]	@ movhi
  28:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
 165              		.loc 1 28 3 is_stmt 1 view .LVU49
  28:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
 166              		.loc 1 28 42 is_stmt 0 view .LVU50
 167 004a B0F90430 		ldrsh	r3, [r0, #4]
  28:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
 168              		.loc 1 28 46 view .LVU51
 169 004e C3F38D03 		ubfx	r3, r3, #2, #14
  28:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
 170              		.loc 1 28 17 view .LVU52
 171 0052 4A88     		ldrh	r2, [r1, #2]
 172 0054 63F30D02 		bfi	r2, r3, #0, #14
 173 0058 4A80     		strh	r2, [r1, #2]	@ movhi
  29:User/messages.c **** 	}
 174              		.loc 1 29 3 is_stmt 1 view .LVU53
  29:User/messages.c **** 	}
ARM GAS  /tmp/ccCH400s.s 			page 7


 175              		.loc 1 29 42 is_stmt 0 view .LVU54
 176 005a B0F90630 		ldrsh	r3, [r0, #6]
  29:User/messages.c **** 	}
 177              		.loc 1 29 46 view .LVU55
 178 005e C3F38D03 		ubfx	r3, r3, #2, #14
  29:User/messages.c **** 	}
 179              		.loc 1 29 17 view .LVU56
 180 0062 8A88     		ldrh	r2, [r1, #4]
 181 0064 63F30D02 		bfi	r2, r3, #0, #14
 182 0068 8A80     		strh	r2, [r1, #4]	@ movhi
 183              	.L12:
  46:User/messages.c **** 	qCom->maxLocLow=maxLoc;
 184              		.loc 1 46 2 is_stmt 1 view .LVU57
  46:User/messages.c **** 	qCom->maxLocLow=maxLoc;
 185              		.loc 1 46 25 is_stmt 0 view .LVU58
 186 006a C4F34002 		ubfx	r2, r4, #1, #1
  46:User/messages.c **** 	qCom->maxLocLow=maxLoc;
 187              		.loc 1 46 18 view .LVU59
 188 006e 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 189 0070 62F38613 		bfi	r3, r2, #6, #1
 190 0074 4B70     		strb	r3, [r1, #1]
  47:User/messages.c **** 	qCom->maxSign=((uint16_t)(((uint16_t)qOri->imuData[maxLoc])&0x8000))>>15;
 191              		.loc 1 47 2 is_stmt 1 view .LVU60
  47:User/messages.c **** 	qCom->maxSign=((uint16_t)(((uint16_t)qOri->imuData[maxLoc])&0x8000))>>15;
 192              		.loc 1 47 17 is_stmt 0 view .LVU61
 193 0076 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 194 0078 64F38613 		bfi	r3, r4, #6, #1
 195 007c CB70     		strb	r3, [r1, #3]
  48:User/messages.c **** }
 196              		.loc 1 48 2 is_stmt 1 view .LVU62
  48:User/messages.c **** }
 197              		.loc 1 48 52 is_stmt 0 view .LVU63
 198 007e 30F91430 		ldrsh	r3, [r0, r4, lsl #1]
  48:User/messages.c **** }
 199              		.loc 1 48 70 view .LVU64
 200 0082 DB0F     		lsrs	r3, r3, #31
  48:User/messages.c **** }
 201              		.loc 1 48 15 view .LVU65
 202 0084 4A79     		ldrb	r2, [r1, #5]	@ zero_extendqisi2
 203 0086 63F38612 		bfi	r2, r3, #6, #1
 204 008a 4A71     		strb	r2, [r1, #5]
  49:User/messages.c **** 
 205              		.loc 1 49 1 view .LVU66
 206 008c 10BC     		pop	{r4}
 207              	.LCFI1:
 208              		.cfi_remember_state
 209              		.cfi_restore 4
 210              		.cfi_def_cfa_offset 0
 211              	.LVL13:
  49:User/messages.c **** 
 212              		.loc 1 49 1 view .LVU67
 213 008e 7047     		bx	lr
 214              	.LVL14:
 215              	.L11:
 216              	.LCFI2:
 217              		.cfi_restore_state
  31:User/messages.c **** 		qCom->imuData0=((uint16_t)qOri->imuData[0])>>COMPACT_SHIFT_BIT;
ARM GAS  /tmp/ccCH400s.s 			page 8


 218              		.loc 1 31 7 is_stmt 1 view .LVU68
  31:User/messages.c **** 		qCom->imuData0=((uint16_t)qOri->imuData[0])>>COMPACT_SHIFT_BIT;
 219              		.loc 1 31 10 is_stmt 0 view .LVU69
 220 0090 012C     		cmp	r4, #1
 221 0092 1AD0     		beq	.L17
  36:User/messages.c **** 		qCom->imuData0=((uint16_t)qOri->imuData[0])>>COMPACT_SHIFT_BIT;
 222              		.loc 1 36 7 is_stmt 1 view .LVU70
  36:User/messages.c **** 		qCom->imuData0=((uint16_t)qOri->imuData[0])>>COMPACT_SHIFT_BIT;
 223              		.loc 1 36 9 is_stmt 0 view .LVU71
 224 0094 022C     		cmp	r4, #2
 225 0096 31D0     		beq	.L18
  42:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[1])>>COMPACT_SHIFT_BIT;
 226              		.loc 1 42 3 is_stmt 1 view .LVU72
  42:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[1])>>COMPACT_SHIFT_BIT;
 227              		.loc 1 42 42 is_stmt 0 view .LVU73
 228 0098 B0F90030 		ldrsh	r3, [r0]
 229              	.LVL15:
  42:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[1])>>COMPACT_SHIFT_BIT;
 230              		.loc 1 42 46 view .LVU74
 231 009c C3F38D03 		ubfx	r3, r3, #2, #14
  42:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[1])>>COMPACT_SHIFT_BIT;
 232              		.loc 1 42 17 view .LVU75
 233 00a0 0A88     		ldrh	r2, [r1]
 234 00a2 63F30D02 		bfi	r2, r3, #0, #14
 235 00a6 0A80     		strh	r2, [r1]	@ movhi
  43:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
 236              		.loc 1 43 3 is_stmt 1 view .LVU76
  43:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
 237              		.loc 1 43 42 is_stmt 0 view .LVU77
 238 00a8 B0F90230 		ldrsh	r3, [r0, #2]
  43:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
 239              		.loc 1 43 46 view .LVU78
 240 00ac C3F38D03 		ubfx	r3, r3, #2, #14
  43:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
 241              		.loc 1 43 17 view .LVU79
 242 00b0 4A88     		ldrh	r2, [r1, #2]
 243 00b2 63F30D02 		bfi	r2, r3, #0, #14
 244 00b6 4A80     		strh	r2, [r1, #2]	@ movhi
  44:User/messages.c **** 	}
 245              		.loc 1 44 3 is_stmt 1 view .LVU80
  44:User/messages.c **** 	}
 246              		.loc 1 44 42 is_stmt 0 view .LVU81
 247 00b8 B0F90430 		ldrsh	r3, [r0, #4]
  44:User/messages.c **** 	}
 248              		.loc 1 44 46 view .LVU82
 249 00bc C3F38D03 		ubfx	r3, r3, #2, #14
  44:User/messages.c **** 	}
 250              		.loc 1 44 17 view .LVU83
 251 00c0 8A88     		ldrh	r2, [r1, #4]
 252 00c2 63F30D02 		bfi	r2, r3, #0, #14
 253 00c6 8A80     		strh	r2, [r1, #4]	@ movhi
 254 00c8 CFE7     		b	.L12
 255              	.LVL16:
 256              	.L17:
  32:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
 257              		.loc 1 32 3 is_stmt 1 view .LVU84
  32:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
ARM GAS  /tmp/ccCH400s.s 			page 9


 258              		.loc 1 32 42 is_stmt 0 view .LVU85
 259 00ca B0F90030 		ldrsh	r3, [r0]
 260              	.LVL17:
  32:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
 261              		.loc 1 32 46 view .LVU86
 262 00ce C3F38D03 		ubfx	r3, r3, #2, #14
  32:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[2])>>COMPACT_SHIFT_BIT;
 263              		.loc 1 32 17 view .LVU87
 264 00d2 0A88     		ldrh	r2, [r1]
 265 00d4 63F30D02 		bfi	r2, r3, #0, #14
 266 00d8 0A80     		strh	r2, [r1]	@ movhi
  33:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
 267              		.loc 1 33 3 is_stmt 1 view .LVU88
  33:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
 268              		.loc 1 33 42 is_stmt 0 view .LVU89
 269 00da B0F90430 		ldrsh	r3, [r0, #4]
  33:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
 270              		.loc 1 33 46 view .LVU90
 271 00de C3F38D03 		ubfx	r3, r3, #2, #14
  33:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
 272              		.loc 1 33 17 view .LVU91
 273 00e2 4A88     		ldrh	r2, [r1, #2]
 274 00e4 63F30D02 		bfi	r2, r3, #0, #14
 275 00e8 4A80     		strh	r2, [r1, #2]	@ movhi
  34:User/messages.c **** 	}
 276              		.loc 1 34 3 is_stmt 1 view .LVU92
  34:User/messages.c **** 	}
 277              		.loc 1 34 42 is_stmt 0 view .LVU93
 278 00ea B0F90630 		ldrsh	r3, [r0, #6]
  34:User/messages.c **** 	}
 279              		.loc 1 34 46 view .LVU94
 280 00ee C3F38D03 		ubfx	r3, r3, #2, #14
  34:User/messages.c **** 	}
 281              		.loc 1 34 17 view .LVU95
 282 00f2 8A88     		ldrh	r2, [r1, #4]
 283 00f4 63F30D02 		bfi	r2, r3, #0, #14
 284 00f8 8A80     		strh	r2, [r1, #4]	@ movhi
 285 00fa B6E7     		b	.L12
 286              	.LVL18:
 287              	.L18:
  37:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[1])>>COMPACT_SHIFT_BIT;
 288              		.loc 1 37 3 is_stmt 1 view .LVU96
  37:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[1])>>COMPACT_SHIFT_BIT;
 289              		.loc 1 37 42 is_stmt 0 view .LVU97
 290 00fc B0F90030 		ldrsh	r3, [r0]
 291              	.LVL19:
  37:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[1])>>COMPACT_SHIFT_BIT;
 292              		.loc 1 37 46 view .LVU98
 293 0100 C3F38D03 		ubfx	r3, r3, #2, #14
  37:User/messages.c **** 		qCom->imuData1=((uint16_t)qOri->imuData[1])>>COMPACT_SHIFT_BIT;
 294              		.loc 1 37 17 view .LVU99
 295 0104 0A88     		ldrh	r2, [r1]
 296 0106 63F30D02 		bfi	r2, r3, #0, #14
 297 010a 0A80     		strh	r2, [r1]	@ movhi
  38:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
 298              		.loc 1 38 3 is_stmt 1 view .LVU100
  38:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
ARM GAS  /tmp/ccCH400s.s 			page 10


 299              		.loc 1 38 42 is_stmt 0 view .LVU101
 300 010c B0F90230 		ldrsh	r3, [r0, #2]
  38:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
 301              		.loc 1 38 46 view .LVU102
 302 0110 C3F38D03 		ubfx	r3, r3, #2, #14
  38:User/messages.c **** 		qCom->imuData2=((uint16_t)qOri->imuData[3])>>COMPACT_SHIFT_BIT;
 303              		.loc 1 38 17 view .LVU103
 304 0114 4A88     		ldrh	r2, [r1, #2]
 305 0116 63F30D02 		bfi	r2, r3, #0, #14
 306 011a 4A80     		strh	r2, [r1, #2]	@ movhi
  39:User/messages.c **** 	}
 307              		.loc 1 39 3 is_stmt 1 view .LVU104
  39:User/messages.c **** 	}
 308              		.loc 1 39 42 is_stmt 0 view .LVU105
 309 011c B0F90630 		ldrsh	r3, [r0, #6]
  39:User/messages.c **** 	}
 310              		.loc 1 39 46 view .LVU106
 311 0120 C3F38D03 		ubfx	r3, r3, #2, #14
  39:User/messages.c **** 	}
 312              		.loc 1 39 17 view .LVU107
 313 0124 8A88     		ldrh	r2, [r1, #4]
 314 0126 63F30D02 		bfi	r2, r3, #0, #14
 315 012a 8A80     		strh	r2, [r1, #4]	@ movhi
 316 012c 9DE7     		b	.L12
 317              		.cfi_endproc
 318              	.LFE65:
 320              		.section	.text.unpackQuaternion,"ax",%progbits
 321              		.align	1
 322              		.global	unpackQuaternion
 323              		.syntax unified
 324              		.thumb
 325              		.thumb_func
 326              		.fpu softvfp
 328              	unpackQuaternion:
 329              	.LVL20:
 330              	.LFB66:
  51:User/messages.c **** 	int32_t lastNumOri=0;
 331              		.loc 1 51 64 is_stmt 1 view -0
 332              		.cfi_startproc
 333              		@ args = 0, pretend = 0, frame = 0
 334              		@ frame_needed = 0, uses_anonymous_args = 0
  51:User/messages.c **** 	int32_t lastNumOri=0;
 335              		.loc 1 51 64 is_stmt 0 view .LVU109
 336 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 337              	.LCFI3:
 338              		.cfi_def_cfa_offset 32
 339              		.cfi_offset 3, -32
 340              		.cfi_offset 4, -28
 341              		.cfi_offset 5, -24
 342              		.cfi_offset 6, -20
 343              		.cfi_offset 7, -16
 344              		.cfi_offset 8, -12
 345              		.cfi_offset 9, -8
 346              		.cfi_offset 14, -4
 347 0004 0746     		mov	r7, r0
 348 0006 8846     		mov	r8, r1
  52:User/messages.c **** 	uint16_t maxLoc=(uint16_t)(qCom->maxLocHigh<<1 | qCom->maxLocLow);
ARM GAS  /tmp/ccCH400s.s 			page 11


 349              		.loc 1 52 2 is_stmt 1 view .LVU110
 350              	.LVL21:
  53:User/messages.c **** 	int16_t qRes0=(int16_t)(((uint16_t)qCom->imuData0)<<COMPACT_SHIFT_BIT);
 351              		.loc 1 53 2 view .LVU111
  53:User/messages.c **** 	int16_t qRes0=(int16_t)(((uint16_t)qCom->imuData0)<<COMPACT_SHIFT_BIT);
 352              		.loc 1 53 33 is_stmt 0 view .LVU112
 353 0008 90F80190 		ldrb	r9, [r0, #1]	@ zero_extendqisi2
 354 000c C9F38013 		ubfx	r3, r9, #6, #1
  53:User/messages.c **** 	int16_t qRes0=(int16_t)(((uint16_t)qCom->imuData0)<<COMPACT_SHIFT_BIT);
 355              		.loc 1 53 55 view .LVU113
 356 0010 90F80390 		ldrb	r9, [r0, #3]	@ zero_extendqisi2
 357 0014 C9F38019 		ubfx	r9, r9, #6, #1
  53:User/messages.c **** 	int16_t qRes0=(int16_t)(((uint16_t)qCom->imuData0)<<COMPACT_SHIFT_BIT);
 358              		.loc 1 53 11 view .LVU114
 359 0018 49EA4309 		orr	r9, r9, r3, lsl #1
 360              	.LVL22:
  54:User/messages.c **** 	int16_t qRes1=(int16_t)(((uint16_t)qCom->imuData1)<<COMPACT_SHIFT_BIT);
 361              		.loc 1 54 2 is_stmt 1 view .LVU115
  54:User/messages.c **** 	int16_t qRes1=(int16_t)(((uint16_t)qCom->imuData1)<<COMPACT_SHIFT_BIT);
 362              		.loc 1 54 41 is_stmt 0 view .LVU116
 363 001c 0688     		ldrh	r6, [r0]
 364 001e C6F30D06 		ubfx	r6, r6, #0, #14
  54:User/messages.c **** 	int16_t qRes1=(int16_t)(((uint16_t)qCom->imuData1)<<COMPACT_SHIFT_BIT);
 365              		.loc 1 54 52 view .LVU117
 366 0022 B600     		lsls	r6, r6, #2
  54:User/messages.c **** 	int16_t qRes1=(int16_t)(((uint16_t)qCom->imuData1)<<COMPACT_SHIFT_BIT);
 367              		.loc 1 54 10 view .LVU118
 368 0024 36B2     		sxth	r6, r6
 369              	.LVL23:
  55:User/messages.c **** 	int16_t qRes2=(int16_t)(((uint16_t)qCom->imuData2)<<COMPACT_SHIFT_BIT);
 370              		.loc 1 55 2 is_stmt 1 view .LVU119
  55:User/messages.c **** 	int16_t qRes2=(int16_t)(((uint16_t)qCom->imuData2)<<COMPACT_SHIFT_BIT);
 371              		.loc 1 55 41 is_stmt 0 view .LVU120
 372 0026 4588     		ldrh	r5, [r0, #2]
 373 0028 C5F30D05 		ubfx	r5, r5, #0, #14
  55:User/messages.c **** 	int16_t qRes2=(int16_t)(((uint16_t)qCom->imuData2)<<COMPACT_SHIFT_BIT);
 374              		.loc 1 55 52 view .LVU121
 375 002c AD00     		lsls	r5, r5, #2
  55:User/messages.c **** 	int16_t qRes2=(int16_t)(((uint16_t)qCom->imuData2)<<COMPACT_SHIFT_BIT);
 376              		.loc 1 55 10 view .LVU122
 377 002e 2DB2     		sxth	r5, r5
 378              	.LVL24:
  56:User/messages.c **** 
 379              		.loc 1 56 2 is_stmt 1 view .LVU123
  56:User/messages.c **** 
 380              		.loc 1 56 41 is_stmt 0 view .LVU124
 381 0030 8488     		ldrh	r4, [r0, #4]
 382 0032 C4F30D04 		ubfx	r4, r4, #0, #14
  56:User/messages.c **** 
 383              		.loc 1 56 52 view .LVU125
 384 0036 A400     		lsls	r4, r4, #2
  56:User/messages.c **** 
 385              		.loc 1 56 10 view .LVU126
 386 0038 24B2     		sxth	r4, r4
 387              	.LVL25:
  58:User/messages.c **** 	const int maxNum=(uint32_t)(1<<30);
 388              		.loc 1 58 2 is_stmt 1 view .LVU127
ARM GAS  /tmp/ccCH400s.s 			page 12


  58:User/messages.c **** 	const int maxNum=(uint32_t)(1<<30);
 389              		.loc 1 58 32 is_stmt 0 view .LVU128
 390 003a 05FB05F0 		mul	r0, r5, r5
 391              	.LVL26:
  58:User/messages.c **** 	const int maxNum=(uint32_t)(1<<30);
 392              		.loc 1 58 26 view .LVU129
 393 003e 06FB0600 		mla	r0, r6, r6, r0
  58:User/messages.c **** 	const int maxNum=(uint32_t)(1<<30);
 394              		.loc 1 58 38 view .LVU130
 395 0042 04FB0400 		mla	r0, r4, r4, r0
 396              	.LVL27:
  59:User/messages.c **** 	lastNumOri=(sum>=maxNum?0:fastSqrt32((uint32_t)(maxNum-sum)));
 397              		.loc 1 59 2 is_stmt 1 view .LVU131
  60:User/messages.c **** 	int16_t lastNum=qCom->maxSign?-lastNumOri:lastNumOri;
 398              		.loc 1 60 2 view .LVU132
  60:User/messages.c **** 	int16_t lastNum=qCom->maxSign?-lastNumOri:lastNumOri;
 399              		.loc 1 60 27 is_stmt 0 view .LVU133
 400 0046 B0F1804F 		cmp	r0, #1073741824
 401 004a 13D3     		bcc	.L29
 402 004c 0020     		movs	r0, #0
 403              	.LVL28:
 404              	.L20:
  61:User/messages.c **** 	if(maxLoc==0)
 405              		.loc 1 61 2 is_stmt 1 discriminator 4 view .LVU134
  61:User/messages.c **** 	if(maxLoc==0)
 406              		.loc 1 61 31 is_stmt 0 discriminator 4 view .LVU135
 407 004e 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
  61:User/messages.c **** 	if(maxLoc==0)
 408              		.loc 1 61 10 discriminator 4 view .LVU136
 409 0050 13F0400F 		tst	r3, #64
 410 0054 13D0     		beq	.L21
  61:User/messages.c **** 	if(maxLoc==0)
 411              		.loc 1 61 10 discriminator 1 view .LVU137
 412 0056 4042     		rsbs	r0, r0, #0
 413              	.LVL29:
  61:User/messages.c **** 	if(maxLoc==0)
 414              		.loc 1 61 10 discriminator 1 view .LVU138
 415 0058 00B2     		sxth	r0, r0
 416              	.LVL30:
 417              	.L22:
  62:User/messages.c **** 	{
 418              		.loc 1 62 2 is_stmt 1 discriminator 4 view .LVU139
  62:User/messages.c **** 	{
 419              		.loc 1 62 4 is_stmt 0 discriminator 4 view .LVU140
 420 005a B9F1000F 		cmp	r9, #0
 421 005e 10D1     		bne	.L23
  64:User/messages.c **** 		qOri->imuData[2]=qRes1;
 422              		.loc 1 64 3 is_stmt 1 view .LVU141
  64:User/messages.c **** 		qOri->imuData[2]=qRes1;
 423              		.loc 1 64 19 is_stmt 0 view .LVU142
 424 0060 A8F80260 		strh	r6, [r8, #2]	@ movhi
  65:User/messages.c **** 		qOri->imuData[3]=qRes2;
 425              		.loc 1 65 3 is_stmt 1 view .LVU143
  65:User/messages.c **** 		qOri->imuData[3]=qRes2;
 426              		.loc 1 65 19 is_stmt 0 view .LVU144
 427 0064 A8F80450 		strh	r5, [r8, #4]	@ movhi
  66:User/messages.c **** 		qOri->imuData[0]=lastNum;
ARM GAS  /tmp/ccCH400s.s 			page 13


 428              		.loc 1 66 3 is_stmt 1 view .LVU145
  66:User/messages.c **** 		qOri->imuData[0]=lastNum;
 429              		.loc 1 66 19 is_stmt 0 view .LVU146
 430 0068 A8F80640 		strh	r4, [r8, #6]	@ movhi
  67:User/messages.c **** 	}
 431              		.loc 1 67 3 is_stmt 1 view .LVU147
  67:User/messages.c **** 	}
 432              		.loc 1 67 19 is_stmt 0 view .LVU148
 433 006c A8F80000 		strh	r0, [r8]	@ movhi
 434              	.L19:
  87:User/messages.c **** 
 435              		.loc 1 87 1 view .LVU149
 436 0070 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 437              	.LVL31:
 438              	.L29:
  60:User/messages.c **** 	int16_t lastNum=qCom->maxSign?-lastNumOri:lastNumOri;
 439              		.loc 1 60 28 discriminator 1 view .LVU150
 440 0074 C0F18040 		rsb	r0, r0, #1073741824
 441              	.LVL32:
  60:User/messages.c **** 	int16_t lastNum=qCom->maxSign?-lastNumOri:lastNumOri;
 442              		.loc 1 60 28 discriminator 1 view .LVU151
 443 0078 FFF7FEFF 		bl	fastSqrt32
 444              	.LVL33:
  60:User/messages.c **** 	int16_t lastNum=qCom->maxSign?-lastNumOri:lastNumOri;
 445              		.loc 1 60 28 discriminator 1 view .LVU152
 446 007c E7E7     		b	.L20
 447              	.LVL34:
 448              	.L21:
  61:User/messages.c **** 	if(maxLoc==0)
 449              		.loc 1 61 10 discriminator 2 view .LVU153
 450 007e 00B2     		sxth	r0, r0
 451              	.LVL35:
  61:User/messages.c **** 	if(maxLoc==0)
 452              		.loc 1 61 10 discriminator 2 view .LVU154
 453 0080 EBE7     		b	.L22
 454              	.LVL36:
 455              	.L23:
  69:User/messages.c **** 		qOri->imuData[0]=qRes0;
 456              		.loc 1 69 7 is_stmt 1 view .LVU155
  69:User/messages.c **** 		qOri->imuData[0]=qRes0;
 457              		.loc 1 69 10 is_stmt 0 view .LVU156
 458 0082 B9F1010F 		cmp	r9, #1
 459 0086 0BD0     		beq	.L30
  75:User/messages.c **** 		qOri->imuData[0]=qRes0;
 460              		.loc 1 75 7 is_stmt 1 view .LVU157
  75:User/messages.c **** 		qOri->imuData[0]=qRes0;
 461              		.loc 1 75 9 is_stmt 0 view .LVU158
 462 0088 B9F1020F 		cmp	r9, #2
 463 008c 11D0     		beq	.L31
  82:User/messages.c **** 		qOri->imuData[1]=qRes1;
 464              		.loc 1 82 3 is_stmt 1 view .LVU159
  82:User/messages.c **** 		qOri->imuData[1]=qRes1;
 465              		.loc 1 82 19 is_stmt 0 view .LVU160
 466 008e A8F80060 		strh	r6, [r8]	@ movhi
  83:User/messages.c **** 		qOri->imuData[2]=qRes2;
 467              		.loc 1 83 3 is_stmt 1 view .LVU161
  83:User/messages.c **** 		qOri->imuData[2]=qRes2;
ARM GAS  /tmp/ccCH400s.s 			page 14


 468              		.loc 1 83 19 is_stmt 0 view .LVU162
 469 0092 A8F80250 		strh	r5, [r8, #2]	@ movhi
  84:User/messages.c **** 		qOri->imuData[3]=lastNum;
 470              		.loc 1 84 3 is_stmt 1 view .LVU163
  84:User/messages.c **** 		qOri->imuData[3]=lastNum;
 471              		.loc 1 84 19 is_stmt 0 view .LVU164
 472 0096 A8F80440 		strh	r4, [r8, #4]	@ movhi
  85:User/messages.c **** 	}
 473              		.loc 1 85 3 is_stmt 1 view .LVU165
  85:User/messages.c **** 	}
 474              		.loc 1 85 19 is_stmt 0 view .LVU166
 475 009a A8F80600 		strh	r0, [r8, #6]	@ movhi
  87:User/messages.c **** 
 476              		.loc 1 87 1 view .LVU167
 477 009e E7E7     		b	.L19
 478              	.L30:
  70:User/messages.c **** 		qOri->imuData[2]=qRes1;
 479              		.loc 1 70 3 is_stmt 1 view .LVU168
  70:User/messages.c **** 		qOri->imuData[2]=qRes1;
 480              		.loc 1 70 19 is_stmt 0 view .LVU169
 481 00a0 A8F80060 		strh	r6, [r8]	@ movhi
  71:User/messages.c **** 		qOri->imuData[3]=qRes2;
 482              		.loc 1 71 3 is_stmt 1 view .LVU170
  71:User/messages.c **** 		qOri->imuData[3]=qRes2;
 483              		.loc 1 71 19 is_stmt 0 view .LVU171
 484 00a4 A8F80450 		strh	r5, [r8, #4]	@ movhi
  72:User/messages.c **** 		qOri->imuData[1]=lastNum;
 485              		.loc 1 72 3 is_stmt 1 view .LVU172
  72:User/messages.c **** 		qOri->imuData[1]=lastNum;
 486              		.loc 1 72 19 is_stmt 0 view .LVU173
 487 00a8 A8F80640 		strh	r4, [r8, #6]	@ movhi
  73:User/messages.c **** 	}
 488              		.loc 1 73 3 is_stmt 1 view .LVU174
  73:User/messages.c **** 	}
 489              		.loc 1 73 19 is_stmt 0 view .LVU175
 490 00ac A8F80200 		strh	r0, [r8, #2]	@ movhi
 491 00b0 DEE7     		b	.L19
 492              	.L31:
  76:User/messages.c **** 		qOri->imuData[1]=qRes1;
 493              		.loc 1 76 3 is_stmt 1 view .LVU176
  76:User/messages.c **** 		qOri->imuData[1]=qRes1;
 494              		.loc 1 76 19 is_stmt 0 view .LVU177
 495 00b2 A8F80060 		strh	r6, [r8]	@ movhi
  77:User/messages.c **** 		qOri->imuData[3]=qRes2;
 496              		.loc 1 77 3 is_stmt 1 view .LVU178
  77:User/messages.c **** 		qOri->imuData[3]=qRes2;
 497              		.loc 1 77 19 is_stmt 0 view .LVU179
 498 00b6 A8F80250 		strh	r5, [r8, #2]	@ movhi
  78:User/messages.c **** 		qOri->imuData[2]=lastNum;
 499              		.loc 1 78 3 is_stmt 1 view .LVU180
  78:User/messages.c **** 		qOri->imuData[2]=lastNum;
 500              		.loc 1 78 19 is_stmt 0 view .LVU181
 501 00ba A8F80640 		strh	r4, [r8, #6]	@ movhi
  79:User/messages.c **** 	}
 502              		.loc 1 79 3 is_stmt 1 view .LVU182
  79:User/messages.c **** 	}
 503              		.loc 1 79 19 is_stmt 0 view .LVU183
ARM GAS  /tmp/ccCH400s.s 			page 15


 504 00be A8F80400 		strh	r0, [r8, #4]	@ movhi
 505 00c2 D5E7     		b	.L19
 506              		.cfi_endproc
 507              	.LFE66:
 509              		.section	.text.unpackPressure,"ax",%progbits
 510              		.align	1
 511              		.global	unpackPressure
 512              		.syntax unified
 513              		.thumb
 514              		.thumb_func
 515              		.fpu softvfp
 517              	unpackPressure:
 518              	.LVL37:
 519              	.LFB67:
  89:User/messages.c **** #if COMPACT_VERSION_PRESSURE_HPA==1
 520              		.loc 1 89 49 is_stmt 1 view -0
 521              		.cfi_startproc
 522              		@ args = 0, pretend = 0, frame = 0
 523              		@ frame_needed = 0, uses_anonymous_args = 0
 524              		@ link register save eliminated.
  91:User/messages.c **** #else
 525              		.loc 1 91 2 view .LVU185
  91:User/messages.c **** #else
 526              		.loc 1 91 13 is_stmt 0 view .LVU186
 527 0000 0088     		ldrh	r0, [r0]
 528              	.LVL38:
  95:User/messages.c **** uint16_t unpackPosition(SENSORDATACOMPACT *scom){
 529              		.loc 1 95 1 view .LVU187
 530 0002 C0F30B00 		ubfx	r0, r0, #0, #12
 531 0006 7047     		bx	lr
 532              		.cfi_endproc
 533              	.LFE67:
 535              		.section	.text.unpackPosition,"ax",%progbits
 536              		.align	1
 537              		.global	unpackPosition
 538              		.syntax unified
 539              		.thumb
 540              		.thumb_func
 541              		.fpu softvfp
 543              	unpackPosition:
 544              	.LVL39:
 545              	.LFB68:
  96:User/messages.c **** 	uint16_t pos=0;
 546              		.loc 1 96 49 is_stmt 1 view -0
 547              		.cfi_startproc
 548              		@ args = 0, pretend = 0, frame = 0
 549              		@ frame_needed = 0, uses_anonymous_args = 0
 550              		@ link register save eliminated.
  97:User/messages.c **** #if COMPACT_VERSION_PRESSURE_HPA==1
 551              		.loc 1 97 2 view .LVU189
  99:User/messages.c **** 				+(uint16_t)(scom->quaternionCom.distanceBit2<<2)
 552              		.loc 1 99 2 view .LVU190
  99:User/messages.c **** 				+(uint16_t)(scom->quaternionCom.distanceBit2<<2)
 553              		.loc 1 99 23 is_stmt 0 view .LVU191
 554 0000 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 555 0002 1A09     		lsrs	r2, r3, #4
 100:User/messages.c **** 				+(uint16_t)(scom->quaternionCom.distanceBit1<<1)
ARM GAS  /tmp/ccCH400s.s 			page 16


 556              		.loc 1 100 36 view .LVU192
 557 0004 C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
 558 0006 DB09     		lsrs	r3, r3, #7
 100:User/messages.c **** 				+(uint16_t)(scom->quaternionCom.distanceBit1<<1)
 559              		.loc 1 100 6 view .LVU193
 560 0008 9B00     		lsls	r3, r3, #2
 100:User/messages.c **** 				+(uint16_t)(scom->quaternionCom.distanceBit1<<1)
 561              		.loc 1 100 5 view .LVU194
 562 000a 03EBC203 		add	r3, r3, r2, lsl #3
 101:User/messages.c **** 				+(uint16_t)(scom->quaternionCom.distanceBit0));
 563              		.loc 1 101 36 view .LVU195
 564 000e 4279     		ldrb	r2, [r0, #5]	@ zero_extendqisi2
 565 0010 D209     		lsrs	r2, r2, #7
 101:User/messages.c **** 				+(uint16_t)(scom->quaternionCom.distanceBit0));
 566              		.loc 1 101 5 view .LVU196
 567 0012 03EB4203 		add	r3, r3, r2, lsl #1
 102:User/messages.c **** #else
 568              		.loc 1 102 36 view .LVU197
 569 0016 C079     		ldrb	r0, [r0, #7]	@ zero_extendqisi2
 570              	.LVL40:
 106:User/messages.c **** }
 571              		.loc 1 106 2 is_stmt 1 view .LVU198
 107:User/messages.c **** 
 572              		.loc 1 107 1 is_stmt 0 view .LVU199
 573 0018 03EBD010 		add	r0, r3, r0, lsr #7
 574              	.LVL41:
 107:User/messages.c **** 
 575              		.loc 1 107 1 view .LVU200
 576 001c 7047     		bx	lr
 577              		.cfi_endproc
 578              	.LFE68:
 580              		.section	.text.decodeSensorData,"ax",%progbits
 581              		.align	1
 582              		.global	decodeSensorData
 583              		.syntax unified
 584              		.thumb
 585              		.thumb_func
 586              		.fpu softvfp
 588              	decodeSensorData:
 589              	.LVL42:
 590              	.LFB69:
 110:User/messages.c **** 
 591              		.loc 1 110 63 is_stmt 1 view -0
 592              		.cfi_startproc
 593              		@ args = 0, pretend = 0, frame = 0
 594              		@ frame_needed = 0, uses_anonymous_args = 0
 110:User/messages.c **** 
 595              		.loc 1 110 63 is_stmt 0 view .LVU202
 596 0000 38B5     		push	{r3, r4, r5, lr}
 597              	.LCFI4:
 598              		.cfi_def_cfa_offset 16
 599              		.cfi_offset 3, -16
 600              		.cfi_offset 4, -12
 601              		.cfi_offset 5, -8
 602              		.cfi_offset 14, -4
 603 0002 0546     		mov	r5, r0
 604 0004 0C46     		mov	r4, r1
ARM GAS  /tmp/ccCH400s.s 			page 17


 112:User/messages.c **** 	s->distance= (int16_t)(unpackPosition(scom));
 605              		.loc 1 112 2 is_stmt 1 view .LVU203
 112:User/messages.c **** 	s->distance= (int16_t)(unpackPosition(scom));
 606              		.loc 1 112 24 is_stmt 0 view .LVU204
 607 0006 FFF7FEFF 		bl	unpackPressure
 608              	.LVL43:
 112:User/messages.c **** 	s->distance= (int16_t)(unpackPosition(scom));
 609              		.loc 1 112 13 view .LVU205
 610 000a 2080     		strh	r0, [r4]	@ movhi
 113:User/messages.c **** 	unpackQuaternion(&(scom->quaternionCom),&(s->quaternion));
 611              		.loc 1 113 2 is_stmt 1 view .LVU206
 113:User/messages.c **** 	unpackQuaternion(&(scom->quaternionCom),&(s->quaternion));
 612              		.loc 1 113 25 is_stmt 0 view .LVU207
 613 000c 2846     		mov	r0, r5
 614 000e FFF7FEFF 		bl	unpackPosition
 615              	.LVL44:
 113:User/messages.c **** 	unpackQuaternion(&(scom->quaternionCom),&(s->quaternion));
 616              		.loc 1 113 13 view .LVU208
 617 0012 6080     		strh	r0, [r4, #2]	@ movhi
 114:User/messages.c **** }
 618              		.loc 1 114 2 is_stmt 1 view .LVU209
 619 0014 211D     		adds	r1, r4, #4
 620 0016 A81C     		adds	r0, r5, #2
 621 0018 FFF7FEFF 		bl	unpackQuaternion
 622              	.LVL45:
 115:User/messages.c **** 
 623              		.loc 1 115 1 is_stmt 0 view .LVU210
 624 001c 38BD     		pop	{r3, r4, r5, pc}
 115:User/messages.c **** 
 625              		.loc 1 115 1 view .LVU211
 626              		.cfi_endproc
 627              	.LFE69:
 629              		.text
 630              	.Letext0:
 631              		.file 2 "/home/softarm/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-n
 632              		.file 3 "/home/softarm/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-n
 633              		.file 4 "User/Inc/messages.h"
ARM GAS  /tmp/ccCH400s.s 			page 18


DEFINED SYMBOLS
                            *ABS*:0000000000000000 messages.c
     /tmp/ccCH400s.s:16     .text.fastSqrt32:0000000000000000 $t
     /tmp/ccCH400s.s:23     .text.fastSqrt32:0000000000000000 fastSqrt32
     /tmp/ccCH400s.s:78     .text.packQuaternion:0000000000000000 $t
     /tmp/ccCH400s.s:85     .text.packQuaternion:0000000000000000 packQuaternion
     /tmp/ccCH400s.s:321    .text.unpackQuaternion:0000000000000000 $t
     /tmp/ccCH400s.s:328    .text.unpackQuaternion:0000000000000000 unpackQuaternion
     /tmp/ccCH400s.s:510    .text.unpackPressure:0000000000000000 $t
     /tmp/ccCH400s.s:517    .text.unpackPressure:0000000000000000 unpackPressure
     /tmp/ccCH400s.s:536    .text.unpackPosition:0000000000000000 $t
     /tmp/ccCH400s.s:543    .text.unpackPosition:0000000000000000 unpackPosition
     /tmp/ccCH400s.s:581    .text.decodeSensorData:0000000000000000 $t
     /tmp/ccCH400s.s:588    .text.decodeSensorData:0000000000000000 decodeSensorData

NO UNDEFINED SYMBOLS
