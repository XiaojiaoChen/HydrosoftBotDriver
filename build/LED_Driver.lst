ARM GAS  /tmp/cc1DyQQV.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"LED_Driver.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.LED_Driver_Setup,"ax",%progbits
  16              		.align	1
  17              		.global	LED_Driver_Setup
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	LED_Driver_Setup:
  25              	.LFB65:
  26              		.file 1 "User/LED_Driver.c"
   1:User/LED_Driver.c **** /*
   2:User/LED_Driver.c ****  * LED_Driver.c
   3:User/LED_Driver.c ****  *
   4:User/LED_Driver.c ****  *  Created on: 2021年7月21日
   5:User/LED_Driver.c ****  *      Author: SHEN Zhong
   6:User/LED_Driver.c ****  */
   7:User/LED_Driver.c **** 
   8:User/LED_Driver.c **** #include "LED_Driver.h"
   9:User/LED_Driver.c **** #include "i2c.h"
  10:User/LED_Driver.c **** 
  11:User/LED_Driver.c **** static uint8_t channelAddress[24]={
  12:User/LED_Driver.c **** 		OUT0_COLOR_ADDR,OUT1_COLOR_ADDR,OUT2_COLOR_ADDR,OUT3_COLOR_ADDR,
  13:User/LED_Driver.c **** 		OUT4_COLOR_ADDR,OUT5_COLOR_ADDR,OUT6_COLOR_ADDR,OUT7_COLOR_ADDR,
  14:User/LED_Driver.c **** 		OUT8_COLOR_ADDR,OUT9_COLOR_ADDR,OUT10_COLOR_ADDR,OUT11_COLOR_ADDR,
  15:User/LED_Driver.c **** 		OUT12_COLOR_ADDR,OUT13_COLOR_ADDR,OUT14_COLOR_ADDR,OUT15_COLOR_ADDR,
  16:User/LED_Driver.c **** 		OUT16_COLOR_ADDR,OUT17_COLOR_ADDR,OUT18_COLOR_ADDR,OUT19_COLOR_ADDR,
  17:User/LED_Driver.c **** 		OUT20_COLOR_ADDR,OUT21_COLOR_ADDR,OUT22_COLOR_ADDR,OUT23_COLOR_ADDR
  18:User/LED_Driver.c **** };
  19:User/LED_Driver.c **** 
  20:User/LED_Driver.c **** /* LP5024 Initialization
  21:User/LED_Driver.c ****  * Linear scale mode
  22:User/LED_Driver.c ****  * Automatic power saving mode
  23:User/LED_Driver.c ****  * Automatic increment mode
  24:User/LED_Driver.c ****  * PWM dithering mode
  25:User/LED_Driver.c ****  * Output maximum current 25.5mA */
  26:User/LED_Driver.c **** void LED_Driver_Setup()
  27:User/LED_Driver.c **** {
  27              		.loc 1 27 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 F0B5     		push	{r4, r5, r6, r7, lr}
ARM GAS  /tmp/cc1DyQQV.s 			page 2


  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 20
  34              		.cfi_offset 4, -20
  35              		.cfi_offset 5, -16
  36              		.cfi_offset 6, -12
  37              		.cfi_offset 7, -8
  38              		.cfi_offset 14, -4
  39 0002 87B0     		sub	sp, sp, #28
  40              	.LCFI1:
  41              		.cfi_def_cfa_offset 48
  28:User/LED_Driver.c **** 	uint8_t txBuf[1];
  42              		.loc 1 28 2 view .LVU1
  29:User/LED_Driver.c **** 
  30:User/LED_Driver.c **** 	txBuf[0] = DEVICE_CONFIG0_CHIP_EN;
  43              		.loc 1 30 2 view .LVU2
  44              		.loc 1 30 11 is_stmt 0 view .LVU3
  45 0004 4023     		movs	r3, #64
  46 0006 8DF81430 		strb	r3, [sp, #20]
  31:User/LED_Driver.c **** 	HAL_I2C_Mem_Write(&hi2c2,LED_DRIVER_ADDR, DEVICE_CONFIG0_ADDR, I2C_MEMADD_SIZE_8BIT, txBuf,1,100);
  47              		.loc 1 31 2 is_stmt 1 view .LVU4
  48 000a 0D4D     		ldr	r5, .L3
  49 000c 6427     		movs	r7, #100
  50 000e 0297     		str	r7, [sp, #8]
  51 0010 0124     		movs	r4, #1
  52 0012 0194     		str	r4, [sp, #4]
  53 0014 05AE     		add	r6, sp, #20
  54 0016 0096     		str	r6, [sp]
  55 0018 2346     		mov	r3, r4
  56 001a 0022     		movs	r2, #0
  57 001c 2821     		movs	r1, #40
  58 001e 2846     		mov	r0, r5
  59 0020 FFF7FEFF 		bl	HAL_I2C_Mem_Write
  60              	.LVL0:
  32:User/LED_Driver.c **** 
  33:User/LED_Driver.c **** 	txBuf[0] = DEVICE_CONFIG1_POWER_SAVE_EN | DEVICE_CONFIG1_AUTO_INCR_EN | DEVICE_CONFIG1_PWM_DITHERI
  61              		.loc 1 33 2 view .LVU5
  62              		.loc 1 33 11 is_stmt 0 view .LVU6
  63 0024 1E23     		movs	r3, #30
  64 0026 8DF81430 		strb	r3, [sp, #20]
  34:User/LED_Driver.c **** 	HAL_I2C_Mem_Write(&hi2c2,LED_DRIVER_ADDR, DEVICE_CONFIG1_ADDR, I2C_MEMADD_SIZE_8BIT, txBuf,1,100);
  65              		.loc 1 34 2 is_stmt 1 view .LVU7
  66 002a 0297     		str	r7, [sp, #8]
  67 002c 0194     		str	r4, [sp, #4]
  68 002e 0096     		str	r6, [sp]
  69 0030 2346     		mov	r3, r4
  70 0032 2246     		mov	r2, r4
  71 0034 2821     		movs	r1, #40
  72 0036 2846     		mov	r0, r5
  73 0038 FFF7FEFF 		bl	HAL_I2C_Mem_Write
  74              	.LVL1:
  35:User/LED_Driver.c **** 
  36:User/LED_Driver.c **** }
  75              		.loc 1 36 1 is_stmt 0 view .LVU8
  76 003c 07B0     		add	sp, sp, #28
  77              	.LCFI2:
  78              		.cfi_def_cfa_offset 20
  79              		@ sp needed
ARM GAS  /tmp/cc1DyQQV.s 			page 3


  80 003e F0BD     		pop	{r4, r5, r6, r7, pc}
  81              	.L4:
  82              		.align	2
  83              	.L3:
  84 0040 00000000 		.word	hi2c2
  85              		.cfi_endproc
  86              	.LFE65:
  88              		.section	.text.LED_Driver_SetPWM_One,"ax",%progbits
  89              		.align	1
  90              		.global	LED_Driver_SetPWM_One
  91              		.syntax unified
  92              		.thumb
  93              		.thumb_func
  94              		.fpu softvfp
  96              	LED_Driver_SetPWM_One:
  97              	.LVL2:
  98              	.LFB66:
  37:User/LED_Driver.c **** 
  38:User/LED_Driver.c **** void LED_Driver_SetPWM_One(uint16_t channel, uint8_t dutyCycle)
  39:User/LED_Driver.c **** {
  99              		.loc 1 39 1 is_stmt 1 view -0
 100              		.cfi_startproc
 101              		@ args = 0, pretend = 0, frame = 8
 102              		@ frame_needed = 0, uses_anonymous_args = 0
 103              		.loc 1 39 1 is_stmt 0 view .LVU10
 104 0000 00B5     		push	{lr}
 105              	.LCFI3:
 106              		.cfi_def_cfa_offset 4
 107              		.cfi_offset 14, -4
 108 0002 87B0     		sub	sp, sp, #28
 109              	.LCFI4:
 110              		.cfi_def_cfa_offset 32
  40:User/LED_Driver.c **** 	uint8_t txBuf[1];
 111              		.loc 1 40 2 is_stmt 1 view .LVU11
  41:User/LED_Driver.c **** 	txBuf[0] = dutyCycle;
 112              		.loc 1 41 2 view .LVU12
 113              		.loc 1 41 11 is_stmt 0 view .LVU13
 114 0004 8DF81410 		strb	r1, [sp, #20]
  42:User/LED_Driver.c **** 	HAL_I2C_Mem_Write(&hi2c2,LED_DRIVER_ADDR, channelAddress[channel],I2C_MEMADD_SIZE_8BIT,txBuf , 1,1
 115              		.loc 1 42 2 is_stmt 1 view .LVU14
 116 0008 6423     		movs	r3, #100
 117 000a 0293     		str	r3, [sp, #8]
 118 000c 0123     		movs	r3, #1
 119 000e 0193     		str	r3, [sp, #4]
 120 0010 05AA     		add	r2, sp, #20
 121 0012 0092     		str	r2, [sp]
 122 0014 044A     		ldr	r2, .L7
 123 0016 125C     		ldrb	r2, [r2, r0]	@ zero_extendqisi2
 124 0018 2821     		movs	r1, #40
 125              	.LVL3:
 126              		.loc 1 42 2 is_stmt 0 view .LVU15
 127 001a 0448     		ldr	r0, .L7+4
 128              	.LVL4:
 129              		.loc 1 42 2 view .LVU16
 130 001c FFF7FEFF 		bl	HAL_I2C_Mem_Write
 131              	.LVL5:
  43:User/LED_Driver.c **** }
ARM GAS  /tmp/cc1DyQQV.s 			page 4


 132              		.loc 1 43 1 view .LVU17
 133 0020 07B0     		add	sp, sp, #28
 134              	.LCFI5:
 135              		.cfi_def_cfa_offset 4
 136              		@ sp needed
 137 0022 5DF804FB 		ldr	pc, [sp], #4
 138              	.L8:
 139 0026 00BF     		.align	2
 140              	.L7:
 141 0028 00000000 		.word	.LANCHOR0
 142 002c 00000000 		.word	hi2c2
 143              		.cfi_endproc
 144              	.LFE66:
 146              		.section	.text.LED_Driver_SetPWM_Multi,"ax",%progbits
 147              		.align	1
 148              		.global	LED_Driver_SetPWM_Multi
 149              		.syntax unified
 150              		.thumb
 151              		.thumb_func
 152              		.fpu softvfp
 154              	LED_Driver_SetPWM_Multi:
 155              	.LVL6:
 156              	.LFB67:
  44:User/LED_Driver.c **** 
  45:User/LED_Driver.c **** void LED_Driver_SetPWM_Multi(uint8_t startChannel, uint8_t numofChannels, uint8_t dutyCycle)
  46:User/LED_Driver.c **** {
 157              		.loc 1 46 1 is_stmt 1 view -0
 158              		.cfi_startproc
 159              		@ args = 0, pretend = 0, frame = 0
 160              		@ frame_needed = 0, uses_anonymous_args = 0
 161              		@ link register save eliminated.
  47:User/LED_Driver.c **** 
  48:User/LED_Driver.c **** }
 162              		.loc 1 48 1 view .LVU19
 163 0000 7047     		bx	lr
 164              		.cfi_endproc
 165              	.LFE67:
 167              		.section	.rodata.channelAddress,"a"
 168              		.align	2
 169              		.set	.LANCHOR0,. + 0
 172              	channelAddress:
 173 0000 0F101112 		.ascii	"\017\020\021\022\023\024\025\026\027\030\031\032\033"
 173      13141516 
 173      1718191A 
 173      1B
 174 000d 1C1D1E1F 		.ascii	"\034\035\036\037 !\"#$%&"
 174      20212223 
 174      242526
 175              		.text
 176              	.Letext0:
 177              		.file 2 "/home/softarm/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-n
 178              		.file 3 "/home/softarm/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-n
 179              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 180              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 181              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 182              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_i2c.h"
 183              		.file 8 "Core/Inc/i2c.h"
ARM GAS  /tmp/cc1DyQQV.s 			page 5


ARM GAS  /tmp/cc1DyQQV.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 LED_Driver.c
     /tmp/cc1DyQQV.s:16     .text.LED_Driver_Setup:0000000000000000 $t
     /tmp/cc1DyQQV.s:24     .text.LED_Driver_Setup:0000000000000000 LED_Driver_Setup
     /tmp/cc1DyQQV.s:84     .text.LED_Driver_Setup:0000000000000040 $d
     /tmp/cc1DyQQV.s:89     .text.LED_Driver_SetPWM_One:0000000000000000 $t
     /tmp/cc1DyQQV.s:96     .text.LED_Driver_SetPWM_One:0000000000000000 LED_Driver_SetPWM_One
     /tmp/cc1DyQQV.s:141    .text.LED_Driver_SetPWM_One:0000000000000028 $d
     /tmp/cc1DyQQV.s:147    .text.LED_Driver_SetPWM_Multi:0000000000000000 $t
     /tmp/cc1DyQQV.s:154    .text.LED_Driver_SetPWM_Multi:0000000000000000 LED_Driver_SetPWM_Multi
     /tmp/cc1DyQQV.s:168    .rodata.channelAddress:0000000000000000 $d
     /tmp/cc1DyQQV.s:172    .rodata.channelAddress:0000000000000000 channelAddress

UNDEFINED SYMBOLS
HAL_I2C_Mem_Write
hi2c2
